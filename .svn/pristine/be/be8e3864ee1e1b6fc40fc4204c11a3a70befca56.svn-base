<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>上传图片</title>
    <style>
        section{width:500px;margin-bottom:30px}
        .img{
            width:500px;
        }
    </style>
    <script src="../assets/js/config.js"></script>
</head>
<body class="layui-pages">

<section class="upload">
    <button type="button" class="layui-btn" id="test1" data-options="{auto:false,edit:true,url: '/upload/'}">
        <i class="layui-icon">&#xe67c;</i>上传图片
    </button>
    <a href="javascript:;" class="layui-btn" id="upload">确认</a>
</section>
<section class="upload">
    <button type="button" class="layui-btn" id="test2" >
        <i class="layui-icon">&#xe67c;</i>上传图片
    </button>
    <img src="" id="demo1" width="100" height="100" alt="">
    <a href="javascript:;" class="layui-btn" id="upload2">确认</a>
</section>
<script>
    Init(['uploads','jquery'], function () {
        //执行实例
        $('#test1').uploads({
            ratio:4/3 //裁剪长宽比
            ,bindAction:'#upload'
            ,done: function(res){
                //上传完毕回调
            }
            ,error: function(){
                //请求异常回调
            }
        });
        //执行实例
        $('#test2').uploads({
            auto:false
            ,bindAction:'#upload2'
            ,choose: function(obj){
                //预读本地文件示例，不支持ie8
                obj.preview(function(index, file, result){
                    $('#demo1').attr('src', result); //图片链接（base64）
                });
            },
            done: function(res){
                //上传完毕回调
            }
            ,error: function(){
                //请求异常回调
            }
        });


    });
</script>
</body>
</html>