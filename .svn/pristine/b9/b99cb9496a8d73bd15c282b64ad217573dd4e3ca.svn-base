<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>上传图片</title>
    <style>
        section {
            width: 500px;
            margin-bottom: 30px
        }

        .img {
            width: 500px;
        }


    </style>
    <script src="../assets/js/config.js"></script>
</head>
<body class="layui-pages">

<section class="upload">
    <button type="button" class="layui-btn" id="test1" data-options="{auto:false,edit:true,url: '/upload/'}">
        <i class="layui-icon">&#xe67c;</i>上传图片
    </button>
    <a href="javascript:;" class="layui-btn" id="upload">确认</a>
</section>


<section>
    <div id="uploads"></div>
    <a href="javascript:;" class="layui-btn" id="upload1">确认</a>
</section>
<script>
    Init(['uploads', 'jquery'], function () {
        //执行实例
        $('#test1').uploads({
            ratio: 4 / 3 //裁剪长宽比
            , bindAction: '#upload'
            , done: function (res) {
                //上传完毕回调
            }
            , error: function () {
                //请求异常回调
            }
        });

        $('#uploads').uploads({
            url:'',
            type:2,
            preview:true,
            multiple:true,
            bindAction: '#upload1',
            onDel:function(){
                console.log('删除');
            },
            done: function (res) {
                //上传完毕回调
            }
            ,error: function () {
                console.log('错误');
                //请求异常回调
            }
        });
    });
</script>
</body>
</html>